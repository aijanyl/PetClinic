{"ast":null,"code":"var _jsxFileName = \"/Users/aizhanyl/Desktop/PetClinic1/src/components/Product/ProductList.js\";\nimport { Grid } from \"@material-ui/core\";\nimport React, { useContext, useEffect, useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { productContext } from \"../contexts/ProductContext\";\nimport ProductCard from \"./ProductCard\";\nimport { Pagination } from \"@material-ui/lab\";\nimport Filter from \"../Filter/Filter\";\n\nconst ProductList = () => {\n  let history = useHistory();\n  const {\n    products,\n    getProducts,\n    paginatedPages\n  } = useContext(productContext);\n  const [page, setPage] = useState(getPage());\n  console.log(products);\n  useEffect(() => {\n    getProducts(history);\n  }, []);\n\n  function getPage(e, page) {\n    const search = new URLSearchParams(history.location.search);\n\n    if (!search.get(\"_page\")) {\n      return 1;\n    }\n\n    return search.get(\"_page\");\n  }\n\n  const handlePage = (e, pageVal) => {\n    const search = new URLSearchParams(history.location.search);\n    search.set(\"_page\", pageVal);\n    history.push(`${history.location.pathname}?${search.toString()}`);\n    getProducts(history);\n    setPage(pageVal);\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"back2\",\n    style: {\n      backgroundColor: \"\",\n      display: \"flex\",\n      marginTop: \"150px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    style: {\n      width: \"300px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      position: \"fixed\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Filter, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 13\n    }\n  }))), /*#__PURE__*/React.createElement(Grid, {\n    container: true,\n    spacing: 3,\n    justify: \"space-evenly\",\n    style: {\n      marginTop: \"0px\",\n      maxWidth: \"1200px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 9\n    }\n  }, products ? products.map((item, index) => /*#__PURE__*/React.createElement(ProductCard, {\n    item: item,\n    key: index,\n    history: history,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 15\n    }\n  })) : /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 13\n    }\n  }, \"Loading...\"))), /*#__PURE__*/React.createElement(Grid, {\n    container: true,\n    justify: \"center\",\n    style: {\n      marginTop: \"50px\",\n      marginBottom: \"50px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Pagination, {\n    count: paginatedPages,\n    color: \"pink\",\n    onChange: handlePage,\n    page: +page,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 9\n    }\n  })));\n};\n\nexport default ProductList;","map":{"version":3,"sources":["/Users/aizhanyl/Desktop/PetClinic1/src/components/Product/ProductList.js"],"names":["Grid","React","useContext","useEffect","useState","useHistory","productContext","ProductCard","Pagination","Filter","ProductList","history","products","getProducts","paginatedPages","page","setPage","getPage","console","log","e","search","URLSearchParams","location","get","handlePage","pageVal","set","push","pathname","toString","backgroundColor","display","marginTop","width","position","maxWidth","map","item","index","marginBottom"],"mappings":"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","sourcesContent":["import { Grid } from \"@material-ui/core\";\nimport React, { useContext, useEffect, useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { productContext } from \"../contexts/ProductContext\";\nimport ProductCard from \"./ProductCard\";\nimport { Pagination } from \"@material-ui/lab\";\nimport Filter from \"../Filter/Filter\";\n\nconst ProductList = () => {\n  let history = useHistory();\n  const { products, getProducts, paginatedPages } = useContext(productContext);\n  const [page, setPage] = useState(getPage());\n\n  console.log(products);\n  useEffect(() => {\n    getProducts(history);\n  }, []);\n\n  function getPage(e, page) {\n    const search = new URLSearchParams(history.location.search);\n    if (!search.get(\"_page\")) {\n      return 1;\n    }\n    return search.get(\"_page\");\n  }\n\n  const handlePage = (e, pageVal) => {\n    const search = new URLSearchParams(history.location.search);\n    search.set(\"_page\", pageVal);\n    history.push(`${history.location.pathname}?${search.toString()}`);\n    getProducts(history);\n    setPage(pageVal);\n  };\n\n  return (\n    <>\n      <div\n        className=\"back2\"\n        style={{ backgroundColor: \"\", display: \"flex\", marginTop: \"150px\" }}\n      >\n        <Grid style={{ width: \"300px\" }}>\n          <div style={{ position: \"fixed\" }}>\n            <Filter />\n          </div>\n        </Grid>\n        <Grid\n          container\n          spacing={3}\n          justify=\"space-evenly\"\n          style={{ marginTop: \"0px\", maxWidth: \"1200px\" }}\n        >\n          {products ? (\n            products.map((item, index) => (\n              <ProductCard item={item} key={index} history={history} />\n            ))\n          ) : (\n            <h1>Loading...</h1>\n          )}\n        </Grid>\n      </div>\n      <Grid\n        container\n        justify=\"center\"\n        style={{ marginTop: \"50px\", marginBottom: \"50px\" }}\n      >\n        <Pagination\n          count={paginatedPages}\n          color=\"pink\"\n          onChange={handlePage}\n          page={+page}\n        />\n      </Grid>\n    </>\n  );\n};\nexport default ProductList;\n"]},"metadata":{},"sourceType":"module"}